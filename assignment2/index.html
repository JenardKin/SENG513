<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 2 Calculator</title>
    <meta name = 'author' content='Jenard Cabia'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="main.css" />
    <script src="jquery.min.js"></script>

</head>
<body style='background-color:salmon;'>
    <div class='wrapper'>
        <div class='calculator'>
            <div class='main_string'>
                <p>
                   0
                </p>
            </div>
            <div class='console'>
                <p>
                    0
                </p>
            </div>
            <div class='buttons'>
                <table>
                    <tr>
                        <td><button onclick="callback('(')">(</button></td>
                        <td><button onclick="callback(')')">)</button></td>
                        <td colspan='2' onclick="callback('C')"><button>C</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="callback('7')">7</button></td>
                        <td><button onclick="callback('8')">8</button></td>
                        <td><button onclick="callback('9')">9</button></td>
                        <td><button onclick="callback('/')">/</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="callback('4')">4</button></td>
                        <td><button onclick="callback('5')">5</button></td>
                        <td><button onclick="callback('6')">6</button></td>
                        <td><button onclick="callback('*')">x</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="callback('1')">1</button></td>
                        <td><button onclick="callback('2')">2</button></td>
                        <td><button onclick="callback('3')">3</button></td>
                        <td><button onclick="callback('-')">-</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="callback('0')">0</button></td>
                        <td><button onclick="callback('.')">.</button></td>
                        <td><button onclick="callback('=')">=</button></td>
                        <td><button onclick="callback('+')">+</button></td>
                    </tr>
                    
                </table>
            </div>
        </div>
    </div>
</body>

<script>
    var equal = false;
    function callback(button){

        var console_string = document.getElementsByClassName('console')[0].getElementsByTagName('p')[0];
        var main_string = document.getElementsByClassName('main_string')[0].getElementsByTagName('p')[0];
        
        if(equal && button != 'C'){
            main_string.innerText = console_string.innerText;
            console_string.innerText = button;
            equal = false;
        }
        else if(button == 'C'){
            console_string.innerText = '0'; main_string.innerText = '0';
        }
        else if(button == '='){
            main_string.innerText = console_string.innerText + button;
            try {
                console_string.innerText = eval(console_string.innerText);
            } catch (e) {
                if (e instanceof SyntaxError) {
                    console_string.innerText = 0;
                }
            }
            equal = true;
            $('.console>p').scrollLeft(0);
            return;
        }
        else{
            if(console_string.innerText != '0')
                console_string.innerText += button;
            else
                console_string.innerText = button;

        }

        var right = $('.console>p').width();
        $('.console>p').scrollLeft(right);
    }
</script>
</html>